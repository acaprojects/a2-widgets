
<div [class]="'dropdown list-tooltip ' + model?.name" widget
    [style.width]="model.width ? model.width + 'px' : ''"
    [style.font-size]="(model.font_size + 'px') || ''"
    (wheel)="inside()" [style.margin-bottom]="model.bottom ? '-.4em' : ''">
    <div class="list" *ngIf="model.bottom" [class.filter]="model.filter">
        <div class="item"
            *ngFor="let item of filtered_list; let i = index"
            [class.selected]="model.active === (item.i || i)"
            [class.hide]="(model.hideActive&&(item.i || i)===model.active) || filtered_list.indexOf(item) < 0"
            (click)="select(item.i || i)">

            <div class="text">{{ item.name || item }}</div>
            <div class="icon"
                [style.opacity]="model.active === (item.i || i) ? 1 : 0"
                [innerHTML]="(model.html || '&#10003;') | safe">
            </div>
        </div>
    </div>
    <div class="search" *ngIf="model.filter&&model.bottom" (tap)="focus()">
        <div class="icon"><div class="search-icon"></div></div>
        <div class="input"><input #input [(ngModel)]="search" (ngModelChange)="filter()" placeholder="Filter"></div>
    </div>
    <div class="item active" [class.bottom]="model?.bottom" (click)="fn.close()" (tap)="fn.close()">
        <div class="text">
            {{ model.active < 0 || !model.list || model.list.length <= model.active || !model.list[model.active] ? model.placeholder : model.list[model.active].name || model.list[model.active] }}
        </div>
        <div class="icon">&#709;</div>
    </div>
    <div class="search" *ngIf="model.filter&&!model.bottom" (tap)="focus()">
        <div class="icon"><div class="search-icon"></div></div>
        <div class="input"><input #input [(ngModel)]="search" (ngModelChange)="filter()"></div>
    </div>
    <div class="item placeholder" *ngIf="model.placeholder && (model < 0 || model.list.length < model)">
        <div class="text">{{ model.placeholder }}</div>
    </div>
    <div class="list" *ngIf="!model.bottom"  [class.filter]="model.filter">
        <div class="item"
            *ngFor="let item of filtered_list; let i = index"
            [class.selected]="model.active === (item.i || i)"
            [class.hide]="(model.hideActive&&(item.i || i)===model.active) || filtered_list.indexOf(item) < 0"
            (click)="select(item.i || i)">

            <div class="text">{{ item.name || item }}</div>
            <div class="icon"
                [style.opacity]="model.active === (item.i || i) ? 1 : 0"
                [innerHTML]="(model.html || '&#10003;') | safe">
            </div>
        </div>
    </div>
</div>
