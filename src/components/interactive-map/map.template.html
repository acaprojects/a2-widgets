<!--
@Author: Alex Sorafumo
@Date:   18/11/2016 4:31 PM
@Email:  alex@yuion.net
@Filename: map.template.html
@Last modified by:   alex.sorafumo
@Last modified time: 13/01/2017 12:45 PM
-->

<div #displayarea class="aca interactive-map" (window:resize)="resize()">
    <div #maparea [@showmap]="(!loading && map_data)?'show':'hide'" *ngIf="active" class="map-contents" (pinchstart)="startScale($event)" (pinch)="scaleMap($event)" (pinchend)="finishScale()" (panmove)="moveMap($event)" (panend)="moveEnd($event)" (tap)="tapMap($event)">
        <div #mapdisplay class="map-area" [@zoom]="zoom_state"></div>
        <map-marker-group [markers]="marker_list" [rotate]="rotations" [radius]="6*((100+_zoom)/100)/map_scale" [disable]="false" [map]="map_details" [reset]="reset_markers"></map-marker-group>
    </div>
	<div *ngIf="loading && map !== ''" class="map-loading-space">
		<spinner type="dot-circle" color="#000"></spinner>
	</div>
	<div *ngIf="!loading && !map_data && map !== ''" class="map-loading-space" [style.font-size]="'1.5em'">
		Map not found!
	</div>
    <div class="map-controls" *ngIf="controls&&!loading">
        <div class="zoom-btn" (click)="zoomIn()" >+</div>
        <div class="zoom-btn" syle="font-size:0.7em;" (click)="resetZoom()">{{(100 + zoom).toFixed(0) + '%'}}</div>
        <div class="zoom-btn" (click)="zoomOut()">-</div>
    </div>
</div>
